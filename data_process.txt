###################################
##  确定adapter\PCR primer结构   ##
###################################
统计所有文件中包括的3‘adaptor情况
grep CTGTAGGCACCATCAAT KL1V1101.fastq > 1
wc -l 1
9968354 1

再看一下
grep CTGTAGGCACCATCAAT AGATCGGAAGAGCACACGTCTGAACTCCAGTCAC * > 1
wc -l 1
3295811 1
确认一下不是别的
grep CTGTAGGCACCATCAATAGATCGGAAGAGCGGTTCAGCAGGAATGCCGAG * | wc -l 
wc -l
0

显然adapter结构是
CTGTAGGCACCATCAAT + AGATCGGAAGAGCACACGTCTGAACTCCAGTCAC + barcode

#####################
##     数据clean   ##
#####################
./tools/smallRNA_clean.pl --file_list samples.list --adapter <String> --adapterLen 11 --run_R --rRNA_removal --rRNA_reference rRNA.fasta

#########################z######
## remove rRNA contamination ##
###############################
filelist文件
./bwaRemover.pl,注意参数bwa aln -n 1 -o 1 -e 1 -i 1 -l 50 -k 2 -t 8
rRNA.fasta
nohup ./bwaRemover.pl --sampleNames filelist --reference rRNA.fasta --indexName rRNA
#只保留unmapped的数据
./files_name_change.pl --filelist filelist --suffix1 unmapped --suffix2 clean
grep -P "filtered" nohup.out > 1
cut -f4 -d' ' 1 > 2

